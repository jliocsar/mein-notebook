{ integer, sqliteTable, text } from drizzle-orm/sqlite-core

export notes := sqliteTable 'notes',
  id:  integer 'id', { mode: 'number' } |> .primaryKey { +autoIncrement }
  content: text 'content' |> .unique() |> .notNull()
  createdAt: integer 'created_at', { mode: 'timestamp' } |> .notNull()
  expiresAt: integer 'expires_at', { mode: 'timestamp' }

export type Note = typeof notes
export type SelectNote = Note['$inferSelect']
export type InsertNote = Note['$inferInsert']
